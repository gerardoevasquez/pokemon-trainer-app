<div class="search-bar">
  
  <mat-form-field 
    class="search-bar__input"
    [appearance]="'outline'"
    [floatLabel]="'always'">
    
    <mat-label>Buscar</mat-label>
    
    <input 
      matInput
      [placeholder]="placeholder"
      [disabled]="disabled"
      [value]="value"
      (input)="onInput($event)"
      (blur)="onBlur()"
      (keyup.enter)="onSearch()">
    
    <button 
      *ngIf="value"
      matSuffix 
      mat-icon-button 
      type="button"
      (click)="clearSearch()"
      aria-label="Limpiar bÃºsqueda">
      <mat-icon>close</mat-icon>
    </button>
    
    <button 
      matSuffix 
      mat-icon-button 
      type="button"
      [disabled]="disabled || loading"
      (click)="onSearch()"
      aria-label="Buscar">
      <mat-icon>search</mat-icon>
    </button>
    
  </mat-form-field>
  
  <mat-form-field 
    *ngIf="showFilters && filters.length > 0"
    class="search-bar__filter"
    [appearance]="'outline'">
    
    <mat-label>Filtro</mat-label>
    
    <mat-select 
      [value]="selectedFilter"
      (selectionChange)="onFilterChange($event.value)"
      [disabled]="disabled">
      
      <mat-option 
        *ngFor="let filter of filters"
        [value]="filter.value">
        {{ filter.label }}
      </mat-option>
      
    </mat-select>
    
  </mat-form-field>
  
</div> 